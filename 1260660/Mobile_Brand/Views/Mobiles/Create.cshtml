@model MobileViewModel
@{
    ViewData["Title"] = "Create";
}


<div class="row mb-1">
    <div class="col-10 offset-2 clearfix" id="spinner" style="display:none;">
        <div class="spinner-border spinner-border-sm text-success" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div>

    <div class="col-10 offset-2" id="msgpopup">

    </div>
   
    <div class="col-10 offset-2">
        <h2>Create New Mobile</h2>
    </div>

</div>

<form id="createForm"
      data-ajax="true"
      data-ajax-mode="replace"
      data-ajax-method="post"
      data-ajax-update="#msgpopup"
      data-ajax-loading="#spinner"
      data-ajax-success="onsuccess"
      asp-action="Create" asp-controller="Mobiles" method="post" enctype="multipart/form-data">
    <div class="form-group row mb-1">
        <label asp-for="Model" class="col-form-label col-2 text-end"></label>
        <div class="col-4">
            <input asp-for="Model" class="form-control" />
        </div>
        <div class="col-4">
            <span asp-validation-for="Model" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row mb-1">
        <label asp-for="PublishDate" class="col-form-label col-2 text-end"></label>
        <div class="col-4">
            <input type="text" asp-for="PublishDate" asp-format="{0:yyyy-MM-dd}" class="form-control" data-toggle="datepicker" />
        </div>
        <div class="col-4">
            <span asp-validation-for="PublishDate" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row mb-1">
        <label asp-for="Price" class="col-form-label col-2 text-end"></label>
        <div class="col-4">
            <input asp-for="Price" class="form-control" />
        </div>
        <div class="col-4">
            <span asp-validation-for="Price" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row mb-1">
        <label asp-for="Picture" class="col-form-label col-2 text-end"></label>
        <div class="col-4">
            <input asp-for="Picture" type="file" class="form-control" />
        </div>
        <div class="col-4">
            <span asp-validation-for="Picture" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row mb-1">
        <label asp-for="BrandId" class="col-form-label col-2 text-end">Brand Name</label>
        <div class="col-4">
            <select asp-for="BrandId" asp-items="@(new SelectList(ViewBag.list,"BrandId","BrandName"))" class="form-select">
                <option value="">-- Choose a Brand --</option>
            </select>
        </div>
        <div class="col-4">
            <span asp-validation-for="BrandId" class="text-danger"></span>
        </div>
    </div>
    <div class="form-group row mb-1">

        <div class="col-10 offset-2">
            <button type="submit" class="btn btn-success">Save</button>
        </div>
    </div>
</form>
<div class="col-10 offset-2">
    <a class="btn btn-link px-0" asp-action="Index" asp-controller="Mobiles">Back to List </a>
</div>
@section scripts{
    <script src="~/libs/jquery/jquery.js"></script>
    <script src="~/libs/validate/jquery.validate.js"></script>
    <script src="~/libs/validate/jquery.validate.unobtrusive.js"></script>
    <script src="~/libs/ajax/jquery.unobtrusive-ajax.js"></script>
    <script src="~/libs/datepicker/dist/datepicker.js"></script>
    <script>
        $(() => {
            $('[data-toggle="datepicker"]').datepicker({ format: 'yyyy-MM-dd' });

        })
        function onsuccess() {
            $("#createForm").trigger('reset');
        }
    </script>
}

@section styles{
    <link href="~/libs/datepicker/dist/datepicker.css" rel="stylesheet" />
}
